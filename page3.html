<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="book.png" > 
    <title> ADVICE </title>
</head>
<body>
 

  <div class="navbar">
    <a href= "page2.html" > <strong> ABOUT </strong> </a>
    <a href= "page3.html" > <strong> ADVICE </strong> </a> 
    
     <a href="index.html" > 
       <img width="35" height="35" src="logo.png" > </a>
     <div class="dropdown">
      <button class="dropbtn"> <a href= "page4.html" > <strong> SUBJECTS</strong>  </a>
        <i class="fa fa-caret-down"></i>
      </button> 
          <div class="dropdown-content">
        
            <a href="arts.html">Arts</a>
              <a href="business.html">Business</a>
              <a href="languages.html">Languages</a>
              <a href="physical.html"> Wellbeing</a>
              <a href="socialsciences.html">Social Sciences</a>
        <a href="technology.html">Technology</a>
  
      </div>
   

    </div>  
    <a href=  > <strong> </strong>  </a> 
 </div>
 <div class="title"> 
  <h1> ADVICE </h1>

</div>


<br> 

  
    <div id="enterDetails">


<h1> Enter Details </h1>

<P>please enter what your result was from the quiz, <br> incase you want to come back to it or change it!
 </P>  <h4> School ID: </h4>
<input id="enterschoolID" type="text"> 

<h4> Result: </h4>
<input id="enterScore" type="text"> 

<br> <br> <br>

  <button id="insert"> INSERT </button>
  <button id="update"> UPDATE </button>
  <button id ="remove"> REMOVE </button>

  <br> <br>

  
</div>

<br> <br> 
<div id="findDetails"> 
  <h1> Your Recent Result!</h1>
  <p>entering your school ID code <br>  will show your result!</p> 
       <h4> Enter School ID:</h4> 
       
 
 <input id="findschoolID" type="text"> <br> <br>
 <button id="find"> FIND </button>
 
     <h3 id="findschoolID" type="text"> </h3>
     <h3 id="findScore" type="text"> </h3> <br> <br>
     </div>
<br><br>  

</div>

<br> <br> <br> <br> <br> <br> <br> 
    
    <script type="module">

  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAKFX_pUxmza7H7KJjcrohna-84ExugWKQ",
    authDomain: "enteremail-fce76.firebaseapp.com",
    databaseURL: "https://enteremail-fce76-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "enteremail-fce76",
    storageBucket: "enteremail-fce76.appspot.com",
    messagingSenderId: "294599051755",
    appId: "1:294599051755:web:fc7ecf4f1ccc171a8cf1ae"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

        import {getDatabase, set, get, update, remove, ref, child}
        from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js"

        const db = getDatabase() ;
       
        var enterschoolID = document.querySelector("#enterschoolID");
        var enterScore = document.querySelector("#enterScore");
        var findschoolID = document.querySelector("#findschoolID");
        var findScore = document.querySelector("#findScore");
      
      

        var insertBth = document.querySelector("#insert");
        var updateBth = document.querySelector("#update");
        var removeBth = document.querySelector("#remove");
        var findBth = document.querySelector("#find");
        
        
        function InsertData() {
            set(ref(db, "People/" + enterschoolID.value),{
                SchoolID: enterschoolID.value,
                Score: enterScore.value,
            })
            .then(()=>{
                alert("Data added successfully");
            })
            .catch((error)=>{
                alert(error);
            });
        }

  

        function FindData() {
          const dbref = ref(db)
          get(child(dbref, "People/"+ findschoolID.value))
          .then((snapshot)=>{
            if (snapshot.exists()) {
                findScore.innerHTML = "Result: " + snapshot.val().Score;
            } else {
                alert("No data found")
            }
        })
        .catch ((error)=>{
            alert(error)
        })
        
        }

        function UpdateData() {
          update(ref(db, "People/" + enterschoolID.value),{
            Score: enterScore.value,
           
          })
          .then(()=>{
            alert("Data updated successfully!");
          })
          .catch((error)=>{
            alert(error);
          });
        }

        function RemoveData() {
          remove(ref(db, "People/"+ enterschoolID.value))
          .then(()=>{
              alert("Data removed successfully");
          })
          .catch((error)=>{
            alert(error);
          });
          
        }
    
        insertBth.addEventListener ('click', InsertData);
        updateBth.addEventListener('click', UpdateData);
        removeBth.addEventListener('click', RemoveData);
        findBth.addEventListener('click', FindData);
   
     
      
      </script>

  <div id="quiz">
    <form id="quizForm">
      <br>
      <br>
      <h1>QUIZ</h1>
      <h3>This quiz will give you a quick idea of what kind of subjects you might want to take next year!</h3>

      <div id="questionOne">
        <label><strong>Question One: What is your favourite subject?</strong></label>
        <br><br>
        <input type="radio" id="technology" name="subject" value="Technology">
        <label for="technology">Fabric, Food, Digital.</label>
        <br>
        <input type="radio" id="commerce" name="subject" value="Commerce">
        <label for="commerce">Business, Economics, Accounting.</label>
        <br>
        <input type="radio" id="languages" name="subject" value="Languages">
        <label for="languages">Maori, Chinese, French.</label>
        <br>
        <input type="radio" id="socialsciences" name="subject" value="SocialScience">
        <label for="socialsciences">History, Geography.</label>
        <br>
        <input type="radio" id="arts" name="subject" value="Arts">
        <label for="arts">Visual Art, Dance, Drama, Music.</label>
        <br>
        <input type="radio" id="Wellbeing" name="subject" value="PE and Health">
        <label for="Wellbeing">PE, Health</label>
      </div>

      <br>

      <div id="questionTwo">
        <label><strong>Question Two: Out of these options, what sounds more enjoyable?</strong></label>
        <br><br>
        <input type="radio" id="Painting" name="option" value="Painting">
        <label for="Painting">Painting</label>
        <input type="radio" id="workingOut" name="option" value="Working Out">
        <label for="workingOut">Working Out</label>
        <input type="radio" id="socializing" name="option" value="Socializing">
        <label for="socializing">Socializing</label>
      </div>

      <br>

      <div id="questionThree">
        <label><strong>Question Three: What field do you want to explore in the future?</strong></label>
        <br><br>

        <input type="radio" id="Medicine" name="future" value="Medicine">
        <label for="Medicine">Health and Medicine</label>
        <br>
        <input type="radio" id="Engineering" name="future" value="engineering">
        <label for="Engineering">Engineering</label>
        <br>
        <input type="radio" id="Health" name="future" value="health">
        <label for="Health">Health Science</label>
        <br>
        <input type="radio" id="Commerce" name="future" value="commerce">
        <label for="Commerce">Commerce</label>
        <br>
        <input type="radio" id="Law" name="future" value="law">
        <label for="Law">Law</label>
        <br>
        <input type="radio" id="Hospitality" name="future" value="hospitality">
        <label for="Hospitality">Hospitality</label>
      </div>

      <br>

      <div id="questionFour">
        <label><strong>Question Four: Are you a tactical, auditory, visual learner?</strong></label>
        <br><br>
        <input type="radio" id="tactical" name="learner" value="tactical">
        <label for="tactical">Tactical (hands on)</label>
        <br>
        <input type="radio" id="auditoral" name="learner" value="auditoral">
        <label for="auditoral">Auditory (enjoys listening)</label>
        <br>
        <input type="radio" id="visual" name="learner" value="visual">
        <label for="visual">Visual (imagines the information)</label>
      </div>

      <br>

      <div id="questionFive">
        <label><strong>Question Five: Are you academic or practical?</strong></label>
        <br><br>
        <input type="radio" id="academic" name="style" value="academicOption">
        <label for="academic">Academic</label>
        <input type="radio" id="practical" name="style" value="practicalOption">
        <label for="practical">Practical</label>
      </div>

      <br>

      <div id="submitButton">
        <button type="button" onclick="submitForm()">Submit</button>
      </div>
    </form>
 

  <h2>Your Answers:</h2>
  <p id="favoriteSubjects"></p>
  <h4 id="display"></h4>
  <h4 id="displayFields"></h4>
</div>

  <script>
    // These arrays store subject and field names for academic and practical preferences.
    var academicSubjects = ["Commerce (Business, Accounting, Economics)", "Languages (French, Chinese, Maori)"];
    var practicalSubjects = ["Hospitality", "PE", "Health", "Dance", "Drama"];

    var healthFields = ["Health and Medicine", "Health Science"];
    var engineeringFields = ["Engineering"];
    var artsField = ["Dance", "Drama"];
    var visualArtsField = ["Designer"];
    var businessField = ["Commerce"];
    var tourismField = ["Tourism Industry"];

    // making a variable by getting the ID from the HTML to the submit button.
    var submitButton = document.getElementById("submitButton");

    // An event listener to the submit button.
    submitButton.addEventListener('click', submitForm);

    // This function is called when a user submits a form or clicks a button.
    function submitForm() {
      var form = document.getElementById("quizForm");

      // Create an array to store user's selected subjects.
      var selectedSubjects = [];

      // Check if at least one radio button is selected.
        // Check if at least one radio button is selected for each group.
      var isSubjectSelected = validateRadioSelection("subject");
      var isOptionSelected = validateRadioSelection("option");
      var isFutureSelected = validateRadioSelection("future");
      var isLearnerSelected = validateRadioSelection("learner");
      var isStyleSelected = validateRadioSelection("style");

        if (isSubjectSelected && isOptionSelected && isFutureSelected && isLearnerSelected && isStyleSelected) {
   // Iterate through all form elements
        for (var i = 0; i < form.elements.length; i++) {
          // Get the current form element
          var element = form.elements[i];

          // Checking the element type "radio" and is checked
          if (element.type === "radio" && element.checked) {
            // If the radio button is checked, add its value to the selectedSubjects array
            selectedSubjects.push(element.value);
          }
        }

        // Display selected subjects as an array.
        var favoriteSubjectsElement = document.getElementById("favoriteSubjects");
        favoriteSubjectsElement.textContent = "Your Options: " + selectedSubjects.join(", ");

        // Determine the user's learning style (academic or practical) and recommend subjects and fields.
        if (selectedSubjects.includes("academicOption")) {
          // If "academicOption" is selected, recommend academic subjects and future fields.
          recommendOptionSubject("academic"); // Recommends academic subjects.
          recommendFutureFields("academic"); // Recommends academic future fields.
        } else if (selectedSubjects.includes("practicalOption")) {
          // If "practicalOption" is selected, recommend practical subjects and future fields.
          recommendOptionSubject("practical"); // Recommends practical subjects.
          recommendFutureFields("practical"); // Recommends practical future fields.
        }
      } else {
        // If the user didn't make a selection, display an alert.
        alert("Please select at least one option.");
      }
    }

 // Validates that at least one radio button in a group is selected (This function is used so i dont have to repeat code)
function validateRadioSelection(groupName) {
  // Gets all radio buttons in the specified group
  var radios = document.getElementsByName(groupName);

  // Iterate through the radio buttons
  for (var i = 0; i < radios.length; i++) {
    // If a radio button is checked, return true (at least one is selected)
    if (radios[i].checked) {
      return true;
    }
  }

  // If no radio button in the group is checked, return false (none selected)
  return false;
}

// This function provides subject recommendations based on the users learning style.
function recommendOptionSubject(style) {
  var recommendation = "";
  var displayElement = document.getElementById("display");

  if (style === "academic") {
    // If the learning style is academic, recommend academic subjects
    recommendation = "You might enjoy subjects like: " + academicSubjects.join(", ");
  } else if (style === "practical") {
    // If the learning style is practical, recommend practical subjects
    recommendation = "You might find interest in subjects like: " + practicalSubjects.join(", ");
  } else {
    // Display an alert if an invalid style is provided
    alert("Please make a selection.");
  }

  // Display the user's input in the empty display h4
  displayElement.innerHTML = recommendation;
}

// This function gives recommendations for career fields in the future based on the user's learning style.
function recommendFutureFields(style) {
  // variable stores the recommendation message.
  var fieldsRecommendation = "";

  // Get a reference to the HTML element where the recommendation will be displayed.
  var displayFieldsElement = document.getElementById("displayFields");

  if (style === "academic") {
    // If the learning style is academic, recommend specific academic fields
    fieldsRecommendation = "You might want to explore fields like: " + healthFields.join(", ") + ", " + engineeringFields.join(", ") + ", " + businessField.join(", ");
  } else if (style === "practical") {
    // If the learning style is practical, recommend specific practical fields
    fieldsRecommendation = "You might want to explore fields like: " + tourismField.join(", ") + ", " + visualArtsField.join(", ") + ", " + artsField.join(", ");
  }

  // Display the fields recommendation in the HTML h4.
  displayFieldsElement.innerHTML = fieldsRecommendation;
}
</script>

<style>

button {
  padding: 4px 4px ; 
    background-color: #2b3a4ab1;
    color: #ffffff;
    border-radius: 10%;
    
}
  
#quiz {
    
    background-color: #C8C2B3;
    color: #134074;
    text-shadow: 2px 1px #DFDCD1;
    width: 40%;
    height: 1200px;
    margin-left: 55%;
    margin-right:3px ;
    margin-top: -66%;
}
  .title {
     font-size: 40px;
    color:#134074;
    text-shadow: 4px 4px #4C6F99;
    text-align: left;
    font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    margin-left: 19%;
  }
  
  .navbar {
      overflow: hidden;
      background-color: #134074;
      font-family:sans-serif;
      float: inline-start;
      border-style: solid;
      border-color: #134074;
    
    }
    
    .navbar a {
      float: left;
      margin-left: 11.89%;
      margin-top: 12px;
      margin-bottom: -0.5px;
      color:#abc0db7f;
      padding: 10px 14px;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
      
    }
    
    .dropdown {
      float: left;
      overflow: hidden;
      margin-inline: 10%;
      margin-top: -14px;
      padding-right: 5px;
      
    }
    
    .dropdown .dropbtn {
      font-size: 16px;  
      border: none;
      outline: none;
      color: white;
      padding: 14px 15px;
      background-color: inherit;
      font-family: inherit;
      margin: 1px;
    }
    
    .navbar a:hover,  .dropbtn {
      background-color: rgba(244, 239, 239, 0.381);
      border-radius: 34px;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color:#abc0dbb1;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 34px;
      font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif
    }
    
    .dropdown-content a {
      float: none;
      color: rgb(228, 230, 245);
      padding: 12px;
      text-decoration: none;
      display: block;
      text-align: left;
      margin-left: 3px;
      margin-right: 3px;
      margin-bottom: 3px;
      border-radius: 34px;
    }
    
    
    .dropdown-content a:hover {
      background-color: #dddddd91;
    }
    
    .dropdown:hover .dropdown-content {
      display: block;
    }
   
    body {
      background-color:#DFDCD1;
      margin:0;
      text-align: center;
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color:#fbfbfb;
    
    }
   
  #display {color: #134074;}

  #enterDetails {
    border-style: solid;
    border-radius: 34px;
    background-color:#134074;
    width: 30%;
    margin-inline-start: 17%;
    outline: 34px;
  }

  #enterDetails h1 {
    font-family: Geneva, Verdana, sans-serif;
  }

  #findDetails h1 {
    font-family: Geneva, Verdana, sans-serif;
  }

  #findDetails {
    border-style: solid;
    border-radius: 34px;
    background-color:#134074;
    width: 25%;
    margin-inline-start: 19%;
    outline: 34px;
    
    
 
  }
  img {
        border-radius: 50px;
        border-style: double;
        border-color: #2b3a4a;
    }

    </style>

    
</body>
</html>