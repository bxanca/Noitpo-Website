<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="book.png" > 
    <title> ADVICE </title>
</head>
<body>
 

  <div class="navbar">
    <a href= "page2.html" > <strong> ABOUT </strong> </a>
    <a href= "page3.html" > <strong> ADVICE </strong> </a> 
    
     <a href="index.html" > 
       <img width="35" height="35" src="logo.png" > </a>
     <div class="dropdown">
      <button class="dropbtn"> <a href= "page4.html" > <strong> SUBJECTS</strong>  </a>
        <i class="fa fa-caret-down"></i>
      </button> 
          <div class="dropdown-content">
        
            <a href="arts.html">Arts</a>
              <a href="business.html">Business</a>
              <a href="languages.html">Languages</a>
              <a href="physical.html"> Wellbeing</a>
              <a href="socialsciences.html">Social Sciences</a>
        <a href="technology.html">Technology</a>
  
      </div>
   

    </div>  
    <a href=  > <strong> </strong>  </a> 
 </div>
 <div class="title"> 
  <h1> ADVICE </h1>

</div>


<br> 

  
    <div id="enterDetails">


<h1> Enter Details </h1>

<P>please enter what your result was from the quiz, <br> incase you want to come back to it or change it!
 </P>  <h4> School ID: </h4>
<input id="enterschoolID" type="text"> 

<h4> Result: </h4>
<input id="enterScore" type="text"> 

<br> <br> <br>

  <button id="insert"> INSERT </button>
  <button id="update"> UPDATE </button>
  <button id ="remove"> REMOVE </button>

  <br> <br>

  
</div>

<br> <br> 
<div id="findDetails"> 
  <h1> Your Recent Result!</h1>
  <p>entering your school ID code <br>  will show your result!</p> 
       <h4> Enter School ID:</h4> 
       
 
 <input id="findschoolID" type="text"> <br> <br>
 <button id="find"> FIND </button>
 
     <h3 id="findschoolID" type="text"> </h3>
     <h3 id="findScore" type="text"> </h3> <br> <br>
     </div>
<br><br>  

</div>

<br> <br> <br> <br> <br> <br> <br> 
    
    <script type="module">

  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyAKFX_pUxmza7H7KJjcrohna-84ExugWKQ",
    authDomain: "enteremail-fce76.firebaseapp.com",
    databaseURL: "https://enteremail-fce76-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "enteremail-fce76",
    storageBucket: "enteremail-fce76.appspot.com",
    messagingSenderId: "294599051755",
    appId: "1:294599051755:web:fc7ecf4f1ccc171a8cf1ae"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

        import {getDatabase, set, get, update, remove, ref, child}
        from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js"

        const db = getDatabase() ;
       
        var enterschoolID = document.querySelector("#enterschoolID");
        var enterScore = document.querySelector("#enterScore");
        var findschoolID = document.querySelector("#findschoolID");
        var findScore = document.querySelector("#findScore");
      
      

        var insertBth = document.querySelector("#insert");
        var updateBth = document.querySelector("#update");
        var removeBth = document.querySelector("#remove");
        var findBth = document.querySelector("#find");
        
        
        function InsertData() {
            set(ref(db, "People/" + enterschoolID.value),{
                SchoolID: enterschoolID.value,
                Score: enterScore.value,
            })
            .then(()=>{
                alert("Data added successfully");
            })
            .catch((error)=>{
                alert(error);
            });
        }

  

        function FindData() {
          const dbref = ref(db)
          get(child(dbref, "People/"+ findschoolID.value))
          .then((snapshot)=>{
            if (snapshot.exists()) {
                findScore.innerHTML = "Result: " + snapshot.val().Score;
            } else {
                alert("No data found")
            }
        })
        .catch ((error)=>{
            alert(error)
        })
        
        }

        function UpdateData() {
          update(ref(db, "People/" + enterschoolID.value),{
            Score: enterScore.value,
           
          })
          .then(()=>{
            alert("Data updated successfully!");
          })
          .catch((error)=>{
            alert(error);
          });
        }

        function RemoveData() {
          remove(ref(db, "People/"+ enterschoolID.value))
          .then(()=>{
              alert("Data removed successfully");
          })
          .catch((error)=>{
            alert(error);
          });
          
        }
    
        insertBth.addEventListener ('click', InsertData);
        updateBth.addEventListener('click', UpdateData);
        removeBth.addEventListener('click', RemoveData);
        findBth.addEventListener('click', FindData);
   
     
      
      </script>

<div id="quiz">
  <form id="quizForm">
      <br>
      <br>
      <h1>QUIZ</h1>
      <h3>This quiz will tell you if you are going onto a more tactical career path or a creative one!</h3>

      <div id="questionOne">
          <p><strong>Question One: What is your favorite subject?</strong></p>
          <input type="radio" id="technology" name="q1" value="Technology">
          <label for="technology">Fabric, Food, Digital.</label>
          <br>
          <input type="radio" id="commerce" name="q1" value="Commerce">
          <label for="commerce">Business, Economics, Accounting.</label>
          <br>
          <input type="radio" id="languages" name="q1" value="Languages">
          <label for="languages">Maori, Chinese, French.</label>
          <br>
          <input type="radio" id="socialsciences" name="q1" value="SocialScience">
          <label for="socialsciences">History, Geography.</label>
          <br>
          <input type="radio" id="arts" name="q1" value="Arts">
          <label for="arts">Visual Art, Dance, Drama, Music.</label>
          <br>
          <input type="radio" id="Wellbeing" name="q1" value="PE and Health">
          <label for="Wellbeing">PE, Health</label>
      </div>

      <br>

      <div id="questionTwo">
          <p><strong>Question Two: Out of these options, what sounds more enjoyable?</strong></p>
          <input type="radio" id="Painting" name="q2" value="Painting">
          <label for="Painting">Painting</label>
          <input type="radio" id="workingOut" name="q2" value="Working Out">
          <label for="workingOut">Working Out</label>
          <input type="radio" id="socializing" name="q2" value="Socializing">
          <label for="socializing">Socializing</label>
      </div>

      <br>

      <div id="questionThree">
          <p><strong>Question Three: What field do you want to explore in the future?</strong></p>
          <input type="radio" id="Medicine" name="q3" value="Medicine">
          <label for="Medicine">Health and Medicine</label>
          <br>
          <input type="radio" id="Engineering" name="q3" value="engineering">
          <label for="Engineering">Engineering</label>
          <br>
          <input type="radio" id="Health" name="q3" value="health">
          <label for="Health">Health Science</label>
          <br>
          <input type="radio" id="Commerce" name="q3" value="commerce">
          <label for="Commerce">Commerce</label>
          <br>
          <input type="radio" id="Law" name="q3" value="law">
          <label for="Law">Law</label>
          <br>
          <input type="radio" id="Hospitality" name="q3" value="hospitality">
          <label for="Hospitality">Hospitality</label>
      </div>

      <br>

      <div id="questionFour">
          <p><strong>Question Four: Are you a tactical, auditory, visual learner?</strong></p>
          <input type="radio" id="tactical" name="q4" value="tactical">
          <label for="tactical">Tactical (hands on)</label>
          <br>
          <input type="radio" id="auditoral" name="q4" value="auditoral">
          <label for="auditoral">Auditory (enjoys listening)</label>
          <br>
          <input type="radio" id="visual" name="q4" value="visual">
          <label for="visual">Visual (imagines the information)</label>
      </div>

      <br>

      <div id="questionFive">
          <p><strong>Question Five: Are you academic or practical?</strong></p>
          <input type="radio" id="academic" name="q5" value="academic">
          <label for="academic">Academic</label>
          <input type="radio" id="practical" name="q5" value="practical">
          <label for="practical">Practical</label>
      </div>

      <br>

      <div id="submitButton">
          <button type="button" onclick="submitForm()">Submit</button>
      </div>
  </form>

  <h2>Your Answers:</h2>
  <div id="result"></div>

</div>


  <script>
function submitForm() {
    // These variables at least one radio button is selected for each group
    var isSubjectSelected = validateRadioSelection("q1");
    var isOptionSelected = validateRadioSelection("q2");
    var isFutureSelected = validateRadioSelection("q3");
    var isLearnerSelected = validateRadioSelection("q4");
    var isStyleSelected = validateRadioSelection("q5");

    if (isSubjectSelected && isOptionSelected && isFutureSelected && isLearnerSelected && isStyleSelected) {
        //This variable are getting the answers from the selected radio buttons by the user. 
        var answers = {
            q1: getSelectedValue("q1"),
            q2: getSelectedValue("q2"),
            q3: getSelectedValue("q3"),
            q4: getSelectedValue("q4"),
            q5: getSelectedValue("q5")
        };


        //These variables calculate the scores by getting the selected values from the the answers variables and placing them into two options being CREATIVE AND TACTICAL

        var scoreCreative = calculateScore(answers, "creative");
        var scoreTactical = calculateScore(answers, "tactical");


        //This if statement showcases that if the user has more creative inputs it will display "Suggests you are on the creative pathway! Look into exploring arts"
        if (scoreCreative > scoreTactical) {
            displayResult("Suggests you are on the creative pathway! Look into exploring arts, design and performing!");
        } // and this else statement shows if more tactical options are select it will display this message. 
        else {
            displayResult("Suggests you are on the tactical pathway. Look into exploring career paths like engineering. law and health sciences!");
        }
    } else {
        // User didn't make selections, so display an alert
        alert("Please select at least one option.");
    }
}

//This function
function calculateScore(answers, pathway) {
  let score = 0;
  if (pathway === "creative") {
    if (answers.q1 === "Arts" || answers.q2 === "Painting" || answers.q4 === "visual") {
      score++;
    }
  } else if (pathway === "tactical") {
    if (answers.q4 === "tactical" || answers.q5 === "practical" || answers.q2 === "Working Out") {
      score++;
    }
  }
  return score;
}

//this function makes sure the user inputs all the radio buttons and not miss out on any of them. 
function validateRadioSelection(groupName) {
  // Gets all radio buttons in the specified group
  var radios = document.getElementsByName(groupName);

  // Iterate through the radio buttons
  for (var i = 0; i < radios.length; i++) {
    // If a radio button is checked, return true (at least one is selected)
    if (radios[i].checked) {
      return true;
    }
  }

  // If no radio button in the group is checked, return false (none selected)
  return false;
}
//This function 
function getSelectedValue(name) {
  var radioButtons = document.getElementsByName(name);
  for (let i = 0; i < radioButtons.length; i++) {
    if (radioButtons[i].checked) {
      return radioButtons[i].value;
    }
  }
  return null;
}


//This function displays the result in the empty div in the HTML under the results. 
function displayResult(message) {
  var resultElement = document.getElementById("result");
  resultElement.textContent = message;
}
</script>

<style>

button {
  padding: 4px 4px ; 
    background-color: #2b3a4ab1;
    color: #ffffff;
    border-radius: 10%;
    
}
  
#quiz {
    
    background-color: #C8C2B3;
    color: #134074;
    text-shadow: 2px 1px #DFDCD1;
    width: 40%;
    height: 1200px;
    margin-left: 55%;
    margin-right:3px ;
    margin-top: -66%;
}
  .title {
     font-size: 40px;
    color:#134074;
    text-shadow: 4px 4px #4C6F99;
    text-align: left;
    font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    margin-left: 19%;
  }
  
  .navbar {
      overflow: hidden;
      background-color: #134074;
      font-family:sans-serif;
      float: inline-start;
      border-style: solid;
      border-color: #134074;
    
    }
    
    .navbar a {
      float: left;
      margin-left: 11.89%;
      margin-top: 12px;
      margin-bottom: -0.5px;
      color:#abc0db7f;
      padding: 10px 14px;
      text-decoration: none;
      font-family: inherit;
      font-size: 15px;
      
    }
    
    .dropdown {
      float: left;
      overflow: hidden;
      margin-inline: 10%;
      margin-top: -14px;
      padding-right: 5px;
      
    }
    
    .dropdown .dropbtn {
      font-size: 16px;  
      border: none;
      outline: none;
      color: white;
      padding: 14px 15px;
      background-color: inherit;
      font-family: inherit;
      margin: 1px;
    }
    
    .navbar a:hover,  .dropbtn {
      background-color: rgba(244, 239, 239, 0.381);
      border-radius: 34px;
    }
    
    .dropdown-content {
      display: none;
      position: absolute;
      background-color:#abc0dbb1;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
      z-index: 1;
      border-radius: 34px;
      font-family:'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif
    }
    
    .dropdown-content a {
      float: none;
      color: rgb(228, 230, 245);
      padding: 12px;
      text-decoration: none;
      display: block;
      text-align: left;
      margin-left: 3px;
      margin-right: 3px;
      margin-bottom: 3px;
      border-radius: 34px;
    }
    
    
    .dropdown-content a:hover {
      background-color: #dddddd91;
    }
    
    .dropdown:hover .dropdown-content {
      display: block;
    }
   
    body {
      background-color:#DFDCD1;
      margin:0;
      text-align: center;
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color:#fbfbfb;
    
    }
   
  #display {color: #134074;}

  #enterDetails {
    border-style: solid;
    border-radius: 34px;
    background-color:#134074;
    width: 30%;
    margin-inline-start: 17%;
    outline: 34px;
  }

  #enterDetails h1 {
    font-family: Geneva, Verdana, sans-serif;
  }

  #findDetails h1 {
    font-family: Geneva, Verdana, sans-serif;
  }

  #findDetails {
    border-style: solid;
    border-radius: 34px;
    background-color:#134074;
    width: 25%;
    margin-inline-start: 19%;
    outline: 34px;
    
    
 
  }
  img {
        border-radius: 50px;
        border-style: double;
        border-color: #2b3a4a;
    }

    </style>

    
</body>
</html>